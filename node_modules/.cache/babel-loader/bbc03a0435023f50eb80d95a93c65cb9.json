{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FileUpload = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Button = require(\"../button/Button\");\n\nvar _Messages = require(\"../messages/Messages\");\n\nvar _ProgressBar = require(\"../progressbar/ProgressBar\");\n\nvar _DomHandler = _interopRequireDefault(require(\"../utils/DomHandler\"));\n\nvar _ClassNames = require(\"../utils/ClassNames\");\n\nvar _Ripple = require(\"../ripple/Ripple\");\n\nvar _ObjectUtils = _interopRequireDefault(require(\"../utils/ObjectUtils\"));\n\nvar _Locale = require(\"../api/Locale\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar FileUpload = /*#__PURE__*/function (_Component) {\n  _inherits(FileUpload, _Component);\n\n  var _super = _createSuper(FileUpload);\n\n  function FileUpload(props) {\n    var _this;\n\n    _classCallCheck(this, FileUpload);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      files: [],\n      msgs: [],\n      focused: false\n    };\n    _this.choose = _this.choose.bind(_assertThisInitialized(_this));\n    _this.upload = _this.upload.bind(_assertThisInitialized(_this));\n    _this.clear = _this.clear.bind(_assertThisInitialized(_this));\n    _this.onFileSelect = _this.onFileSelect.bind(_assertThisInitialized(_this));\n    _this.onDragEnter = _this.onDragEnter.bind(_assertThisInitialized(_this));\n    _this.onDragOver = _this.onDragOver.bind(_assertThisInitialized(_this));\n    _this.onDragLeave = _this.onDragLeave.bind(_assertThisInitialized(_this));\n    _this.onDrop = _this.onDrop.bind(_assertThisInitialized(_this));\n    _this.onKeyDown = _this.onKeyDown.bind(_assertThisInitialized(_this));\n    _this.onFocus = _this.onFocus.bind(_assertThisInitialized(_this));\n    _this.onBlur = _this.onBlur.bind(_assertThisInitialized(_this));\n    _this.onSimpleUploaderClick = _this.onSimpleUploaderClick.bind(_assertThisInitialized(_this));\n    _this.duplicateIEEvent = false;\n    return _this;\n  }\n\n  _createClass(FileUpload, [{\n    key: \"hasFiles\",\n    value: function hasFiles() {\n      return this.state.files && this.state.files.length > 0;\n    }\n  }, {\n    key: \"isImage\",\n    value: function isImage(file) {\n      return /^image\\//.test(file.type);\n    }\n  }, {\n    key: \"chooseDisabled\",\n    value: function chooseDisabled() {\n      return this.props.disabled || this.props.fileLimit && this.props.fileLimit <= this.state.files.length + this.uploadedFileCount;\n    }\n  }, {\n    key: \"uploadDisabled\",\n    value: function uploadDisabled() {\n      return this.props.disabled || !this.hasFiles();\n    }\n  }, {\n    key: \"cancelDisabled\",\n    value: function cancelDisabled() {\n      return this.props.disabled || !this.hasFiles();\n    }\n  }, {\n    key: \"chooseButtonLabel\",\n    value: function chooseButtonLabel() {\n      return this.props.chooseLabel || (0, _Locale.localeOption)('choose');\n    }\n  }, {\n    key: \"uploadButtonLabel\",\n    value: function uploadButtonLabel() {\n      return this.props.uploadLabel || (0, _Locale.localeOption)('upload');\n    }\n  }, {\n    key: \"cancelButtonLabel\",\n    value: function cancelButtonLabel() {\n      return this.props.cancelLabel || (0, _Locale.localeOption)('cancel');\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(event, index) {\n      this.clearInputElement();\n\n      var currentFiles = _toConsumableArray(this.state.files);\n\n      var removedFile = this.state.files[index];\n      currentFiles.splice(index, 1);\n      this.setState({\n        files: currentFiles\n      });\n\n      if (this.props.onRemove) {\n        this.props.onRemove({\n          originalEvent: event,\n          file: removedFile\n        });\n      }\n    }\n  }, {\n    key: \"clearInputElement\",\n    value: function clearInputElement() {\n      this.fileInput.value = '';\n    }\n  }, {\n    key: \"clearIEInput\",\n    value: function clearIEInput() {\n      if (this.fileInput) {\n        this.duplicateIEEvent = true; //IE11 fix to prevent onFileChange trigger again\n\n        this.fileInput.value = '';\n      }\n    }\n  }, {\n    key: \"formatSize\",\n    value: function formatSize(bytes) {\n      if (bytes === 0) {\n        return '0 B';\n      }\n\n      var k = 1000,\n          dm = 3,\n          sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n          i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n    }\n  }, {\n    key: \"onFileSelect\",\n    value: function onFileSelect(event) {\n      var _this2 = this;\n\n      if (event.type !== 'drop' && this.isIE11() && this.duplicateIEEvent) {\n        this.duplicateIEEvent = false;\n        return;\n      }\n\n      this.setState({\n        msgs: []\n      });\n      this.files = this.state.files || [];\n      var files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n\n      for (var i = 0; i < files.length; i++) {\n        var file = files[i];\n\n        if (!this.isFileSelected(file)) {\n          if (this.validate(file)) {\n            if (this.isImage(file)) {\n              file.objectURL = window.URL.createObjectURL(file);\n            }\n\n            this.files.push(file);\n          }\n        }\n      }\n\n      this.setState({\n        files: this.files\n      }, function () {\n        if (_this2.hasFiles() && _this2.props.auto) {\n          _this2.upload();\n        }\n      });\n\n      if (this.props.onSelect) {\n        this.props.onSelect({\n          originalEvent: event,\n          files: files\n        });\n      }\n\n      if (event.type !== 'drop' && this.isIE11()) {\n        this.clearIEInput();\n      } else {\n        this.clearInputElement();\n      }\n\n      if (this.props.mode === 'basic' && this.files.length > 0) {\n        this.fileInput.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"isFileSelected\",\n    value: function isFileSelected(file) {\n      var _iterator = _createForOfIteratorHelper(this.state.files),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var sFile = _step.value;\n          if (sFile.name + sFile.type + sFile.size === file.name + file.type + file.size) return true;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"isIE11\",\n    value: function isIE11() {\n      return !!window['MSInputMethodContext'] && !!document['documentMode'];\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(file) {\n      if (this.props.maxFileSize && file.size > this.props.maxFileSize) {\n        var message = {\n          severity: 'error',\n          summary: this.props.invalidFileSizeMessageSummary.replace('{0}', file.name),\n          detail: this.props.invalidFileSizeMessageDetail.replace('{0}', this.formatSize(this.props.maxFileSize))\n        };\n\n        if (this.props.mode === 'advanced') {\n          this.messagesUI.show(message);\n        }\n\n        if (this.props.onValidationFail) {\n          this.props.onValidationFail(file);\n        }\n\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"upload\",\n    value: function upload() {\n      var _this3 = this;\n\n      if (this.props.customUpload) {\n        if (this.props.fileLimit) {\n          this.uploadedFileCount += this.state.files.length;\n        }\n\n        if (this.props.uploadHandler) {\n          this.props.uploadHandler({\n            files: this.state.files\n          });\n        }\n      } else {\n        this.setState({\n          msgs: []\n        });\n        var xhr = new XMLHttpRequest();\n        var formData = new FormData();\n\n        if (this.props.onBeforeUpload) {\n          this.props.onBeforeUpload({\n            'xhr': xhr,\n            'formData': formData\n          });\n        }\n\n        var _iterator2 = _createForOfIteratorHelper(this.state.files),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var file = _step2.value;\n            formData.append(this.props.name, file, file.name);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        xhr.upload.addEventListener('progress', function (event) {\n          if (event.lengthComputable) {\n            _this3.setState({\n              progress: Math.round(event.loaded * 100 / event.total)\n            });\n          }\n\n          if (_this3.props.onProgress) {\n            _this3.props.onProgress({\n              originalEvent: event,\n              progress: _this3.progress\n            });\n          }\n\n          ;\n        });\n\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            _this3.setState({\n              progress: 0\n            });\n\n            if (xhr.status >= 200 && xhr.status < 300) {\n              if (_this3.props.fileLimit) {\n                _this3.uploadedFileCount += _this3.state.files.length;\n              }\n\n              if (_this3.props.onUpload) {\n                _this3.props.onUpload({\n                  xhr: xhr,\n                  files: _this3.state.files\n                });\n              }\n            } else {\n              if (_this3.props.onError) {\n                _this3.props.onError({\n                  xhr: xhr,\n                  files: _this3.state.files\n                });\n              }\n            }\n\n            _this3.clear();\n          }\n        };\n\n        xhr.open('POST', this.props.url, true);\n\n        if (this.props.onBeforeSend) {\n          this.props.onBeforeSend({\n            'xhr': xhr,\n            'formData': formData\n          });\n        }\n\n        xhr.withCredentials = this.props.withCredentials;\n        xhr.send(formData);\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.setState({\n        files: []\n      });\n\n      if (this.props.onClear) {\n        this.props.onClear();\n      }\n\n      this.clearInputElement();\n    }\n  }, {\n    key: \"choose\",\n    value: function choose() {\n      this.fileInput.click();\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      this.setState({\n        focused: true\n      });\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      this.setState({\n        focused: false\n      });\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(event) {\n      if (event.which === 13) {\n        // enter\n        this.choose();\n      }\n    }\n  }, {\n    key: \"onDragEnter\",\n    value: function onDragEnter(event) {\n      if (!this.props.disabled) {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"onDragOver\",\n    value: function onDragOver(event) {\n      if (!this.props.disabled) {\n        _DomHandler.default.addClass(this.content, 'p-fileupload-highlight');\n\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"onDragLeave\",\n    value: function onDragLeave(event) {\n      if (!this.props.disabled) {\n        _DomHandler.default.removeClass(this.content, 'p-fileupload-highlight');\n      }\n    }\n  }, {\n    key: \"onDrop\",\n    value: function onDrop(event) {\n      if (!this.props.disabled) {\n        _DomHandler.default.removeClass(this.content, 'p-fileupload-highlight');\n\n        event.stopPropagation();\n        event.preventDefault();\n        var files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n        var allowDrop = this.props.multiple || files && files.length === 1;\n\n        if (allowDrop) {\n          this.onFileSelect(event);\n        }\n      }\n    }\n  }, {\n    key: \"onSimpleUploaderClick\",\n    value: function onSimpleUploaderClick() {\n      if (this.hasFiles()) {\n        this.upload();\n      } else {\n        this.fileInput.click();\n      }\n    }\n  }, {\n    key: \"renderChooseButton\",\n    value: function renderChooseButton() {\n      var _this4 = this;\n\n      var className = (0, _ClassNames.classNames)('p-button p-fileupload-choose p-component', {\n        'p-disabled': this.props.disabled,\n        'p-focus': this.state.focused\n      });\n      return /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: className,\n        onClick: this.choose,\n        onKeyDown: this.onKeyDown,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        tabIndex: 0\n      }, /*#__PURE__*/_react.default.createElement(\"input\", {\n        ref: function ref(el) {\n          return _this4.fileInput = el;\n        },\n        type: \"file\",\n        onChange: this.onFileSelect,\n        multiple: this.props.multiple,\n        accept: this.props.accept,\n        disabled: this.chooseDisabled()\n      }), /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: \"p-button-icon p-button-icon-left p-clickable pi pi-fw pi-plus\"\n      }), /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: \"p-button-label p-clickable\"\n      }, this.chooseButtonLabel()), /*#__PURE__*/_react.default.createElement(_Ripple.Ripple, null));\n    }\n  }, {\n    key: \"renderFiles\",\n    value: function renderFiles() {\n      var _this5 = this;\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"p-fileupload-files\"\n      }, this.state.files.map(function (file, index) {\n        var preview = _this5.isImage(file) ? /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(\"img\", {\n          alt: file.name,\n          role: \"presentation\",\n          src: file.objectURL,\n          width: _this5.props.previewWidth\n        })) : null;\n\n        var fileName = /*#__PURE__*/_react.default.createElement(\"div\", null, file.name);\n\n        var size = /*#__PURE__*/_react.default.createElement(\"div\", null, _this5.formatSize(file.size));\n\n        var removeButton = /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_Button.Button, {\n          type: \"button\",\n          icon: \"pi pi-times\",\n          onClick: function onClick(e) {\n            return _this5.remove(e, index);\n          }\n        }));\n\n        return /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"p-fileupload-row\",\n          key: file.name + file.type + file.size\n        }, preview, fileName, size, removeButton);\n      }));\n    }\n  }, {\n    key: \"renderEmptyContent\",\n    value: function renderEmptyContent() {\n      if (this.props.emptyTemplate && !this.hasFiles()) {\n        return _ObjectUtils.default.getJSXElement(this.props.emptyTemplate, this.props);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderAdvanced\",\n    value: function renderAdvanced() {\n      var _this6 = this;\n\n      var className = (0, _ClassNames.classNames)('p-fileupload p-fileupload-advanced p-component', this.props.className);\n      var uploadButton, cancelButton, filesList, progressBar;\n      var chooseButton = this.renderChooseButton();\n      var emptyContent = this.renderEmptyContent();\n\n      if (!this.props.auto) {\n        uploadButton = /*#__PURE__*/_react.default.createElement(_Button.Button, {\n          type: \"button\",\n          label: this.uploadButtonLabel(),\n          icon: \"pi pi-upload\",\n          onClick: this.upload,\n          disabled: this.uploadDisabled()\n        });\n        cancelButton = /*#__PURE__*/_react.default.createElement(_Button.Button, {\n          type: \"button\",\n          label: this.cancelButtonLabel(),\n          icon: \"pi pi-times\",\n          onClick: this.clear,\n          disabled: this.cancelDisabled()\n        });\n      }\n\n      if (this.hasFiles()) {\n        filesList = this.renderFiles();\n        progressBar = /*#__PURE__*/_react.default.createElement(_ProgressBar.ProgressBar, {\n          value: this.state.progress,\n          showValue: false\n        });\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        id: this.props.id,\n        className: className,\n        style: this.props.style\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"p-fileupload-buttonbar\"\n      }, chooseButton, uploadButton, cancelButton), /*#__PURE__*/_react.default.createElement(\"div\", {\n        ref: function ref(el) {\n          _this6.content = el;\n        },\n        className: \"p-fileupload-content\",\n        onDragEnter: this.onDragEnter,\n        onDragOver: this.onDragOver,\n        onDragLeave: this.onDragLeave,\n        onDrop: this.onDrop\n      }, progressBar, /*#__PURE__*/_react.default.createElement(_Messages.Messages, {\n        ref: function ref(el) {\n          return _this6.messagesUI = el;\n        }\n      }), filesList, emptyContent));\n    }\n  }, {\n    key: \"renderBasic\",\n    value: function renderBasic() {\n      var _this7 = this;\n\n      var className = (0, _ClassNames.classNames)('p-fileupload p-fileupload-basic p-component', this.props.className);\n      var buttonClassName = (0, _ClassNames.classNames)('p-button p-component p-fileupload-choose', {\n        'p-fileupload-choose-selected': this.hasFiles(),\n        'p-disabled': this.props.disabled,\n        'p-focus': this.state.focused\n      });\n      var iconClassName = (0, _ClassNames.classNames)('p-button-icon p-button-icon-left pi', {\n        'pi-plus': !this.hasFiles() || this.props.auto,\n        'pi-upload': this.hasFiles() && !this.props.auto\n      });\n      var chooseLabel = this.chooseButtonLabel();\n      var label = this.props.auto ? chooseLabel : this.hasFiles() ? this.state.files[0].name : chooseLabel;\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: className\n      }, /*#__PURE__*/_react.default.createElement(_Messages.Messages, {\n        ref: function ref(el) {\n          return _this7.messagesUI = el;\n        }\n      }), /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: buttonClassName,\n        onMouseUp: this.onSimpleUploaderClick,\n        onKeyDown: this.onKeyDown,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        tabIndex: 0\n      }, /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: iconClassName\n      }), /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: \"p-button-label p-clickable\"\n      }, label), !this.hasFiles() && /*#__PURE__*/_react.default.createElement(\"input\", {\n        ref: function ref(el) {\n          return _this7.fileInput = el;\n        },\n        type: \"file\",\n        accept: this.props.accept,\n        disabled: this.props.disabled,\n        onChange: this.onFileSelect\n      }), /*#__PURE__*/_react.default.createElement(_Ripple.Ripple, null)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.mode === 'advanced') return this.renderAdvanced();else if (this.props.mode === 'basic') return this.renderBasic();\n    }\n  }]);\n\n  return FileUpload;\n}(_react.Component);\n\nexports.FileUpload = FileUpload;\n\n_defineProperty(FileUpload, \"defaultProps\", {\n  id: null,\n  name: null,\n  url: null,\n  mode: 'advanced',\n  multiple: false,\n  accept: null,\n  disabled: false,\n  auto: false,\n  maxFileSize: null,\n  invalidFileSizeMessageSummary: '{0}: Invalid file size, ',\n  invalidFileSizeMessageDetail: 'maximum upload size is {0}.',\n  style: null,\n  className: null,\n  widthCredentials: false,\n  previewWidth: 50,\n  chooseLabel: null,\n  uploadLabel: null,\n  cancelLabel: null,\n  customUpload: false,\n  emptyTemplate: null,\n  onBeforeUpload: null,\n  onBeforeSend: null,\n  onUpload: null,\n  onError: null,\n  onClear: null,\n  onSelect: null,\n  onProgress: null,\n  onValidationFail: null,\n  uploadHandler: null,\n  onRemove: null\n});\n\n_defineProperty(FileUpload, \"propTypes\", {\n  id: _propTypes.default.string,\n  name: _propTypes.default.string,\n  url: _propTypes.default.string,\n  mode: _propTypes.default.string,\n  multiple: _propTypes.default.bool,\n  accept: _propTypes.default.string,\n  disabled: _propTypes.default.bool,\n  auto: _propTypes.default.bool,\n  maxFileSize: _propTypes.default.number,\n  invalidFileSizeMessageSummary: _propTypes.default.string,\n  invalidFileSizeMessageDetail: _propTypes.default.string,\n  style: _propTypes.default.object,\n  className: _propTypes.default.string,\n  widthCredentials: _propTypes.default.bool,\n  previewWidth: _propTypes.default.number,\n  chooseLabel: _propTypes.default.string,\n  uploadLabel: _propTypes.default.string,\n  cancelLabel: _propTypes.default.string,\n  customUpload: _propTypes.default.bool,\n  emptyTemplate: _propTypes.default.any,\n  onBeforeUpload: _propTypes.default.func,\n  onBeforeSend: _propTypes.default.func,\n  onUpload: _propTypes.default.func,\n  onError: _propTypes.default.func,\n  onClear: _propTypes.default.func,\n  onSelect: _propTypes.default.func,\n  onProgress: _propTypes.default.func,\n  onValidationFail: _propTypes.default.func,\n  uploadHandler: _propTypes.default.func,\n  onRemove: _propTypes.default.func\n});","map":{"version":3,"sources":["/Users/diretotech/Desktop/apollo-react-6.0.0/node_modules/primereact/components/fileupload/FileUpload.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","FileUpload","_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_Button","_Messages","_ProgressBar","_DomHandler","_ClassNames","_Ripple","_ObjectUtils","_Locale","__esModule","default","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_createForOfIteratorHelper","o","allowArrayLike","it","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","return","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","toString","slice","name","from","test","iter","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","getPrototypeOf","_defineProperty","_Component","_super","_this","state","files","msgs","focused","choose","bind","upload","clear","onFileSelect","onDragEnter","onDragOver","onDragLeave","onDrop","onKeyDown","onFocus","onBlur","onSimpleUploaderClick","duplicateIEEvent","hasFiles","isImage","file","type","chooseDisabled","disabled","fileLimit","uploadedFileCount","uploadDisabled","cancelDisabled","chooseButtonLabel","chooseLabel","localeOption","uploadButtonLabel","uploadLabel","cancelButtonLabel","cancelLabel","remove","event","index","clearInputElement","currentFiles","removedFile","splice","setState","onRemove","originalEvent","fileInput","clearIEInput","formatSize","bytes","k","dm","sizes","Math","floor","log","parseFloat","pow","toFixed","_this2","isIE11","dataTransfer","isFileSelected","validate","objectURL","window","URL","createObjectURL","push","auto","onSelect","mode","style","display","_iterator","_step","sFile","size","document","maxFileSize","message","severity","summary","invalidFileSizeMessageSummary","replace","detail","invalidFileSizeMessageDetail","messagesUI","show","onValidationFail","_this3","customUpload","uploadHandler","xhr","XMLHttpRequest","formData","FormData","onBeforeUpload","_iterator2","_step2","append","addEventListener","lengthComputable","progress","round","loaded","total","onProgress","onreadystatechange","readyState","status","onUpload","onError","open","url","onBeforeSend","withCredentials","send","onClear","click","which","stopPropagation","preventDefault","addClass","content","removeClass","allowDrop","multiple","renderChooseButton","_this4","className","classNames","createElement","onClick","tabIndex","ref","el","onChange","accept","Ripple","renderFiles","_this5","map","preview","alt","role","src","width","previewWidth","fileName","removeButton","Button","icon","renderEmptyContent","emptyTemplate","getJSXElement","renderAdvanced","_this6","uploadButton","cancelButton","filesList","progressBar","chooseButton","emptyContent","label","ProgressBar","showValue","id","Messages","renderBasic","_this7","buttonClassName","iconClassName","onMouseUp","render","Component","widthCredentials","string","bool","number","object","any","func"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FileUpload = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _Button = require(\"../button/Button\");\n\nvar _Messages = require(\"../messages/Messages\");\n\nvar _ProgressBar = require(\"../progressbar/ProgressBar\");\n\nvar _DomHandler = _interopRequireDefault(require(\"../utils/DomHandler\"));\n\nvar _ClassNames = require(\"../utils/ClassNames\");\n\nvar _Ripple = require(\"../ripple/Ripple\");\n\nvar _ObjectUtils = _interopRequireDefault(require(\"../utils/ObjectUtils\"));\n\nvar _Locale = require(\"../api/Locale\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar FileUpload = /*#__PURE__*/function (_Component) {\n  _inherits(FileUpload, _Component);\n\n  var _super = _createSuper(FileUpload);\n\n  function FileUpload(props) {\n    var _this;\n\n    _classCallCheck(this, FileUpload);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      files: [],\n      msgs: [],\n      focused: false\n    };\n    _this.choose = _this.choose.bind(_assertThisInitialized(_this));\n    _this.upload = _this.upload.bind(_assertThisInitialized(_this));\n    _this.clear = _this.clear.bind(_assertThisInitialized(_this));\n    _this.onFileSelect = _this.onFileSelect.bind(_assertThisInitialized(_this));\n    _this.onDragEnter = _this.onDragEnter.bind(_assertThisInitialized(_this));\n    _this.onDragOver = _this.onDragOver.bind(_assertThisInitialized(_this));\n    _this.onDragLeave = _this.onDragLeave.bind(_assertThisInitialized(_this));\n    _this.onDrop = _this.onDrop.bind(_assertThisInitialized(_this));\n    _this.onKeyDown = _this.onKeyDown.bind(_assertThisInitialized(_this));\n    _this.onFocus = _this.onFocus.bind(_assertThisInitialized(_this));\n    _this.onBlur = _this.onBlur.bind(_assertThisInitialized(_this));\n    _this.onSimpleUploaderClick = _this.onSimpleUploaderClick.bind(_assertThisInitialized(_this));\n    _this.duplicateIEEvent = false;\n    return _this;\n  }\n\n  _createClass(FileUpload, [{\n    key: \"hasFiles\",\n    value: function hasFiles() {\n      return this.state.files && this.state.files.length > 0;\n    }\n  }, {\n    key: \"isImage\",\n    value: function isImage(file) {\n      return /^image\\//.test(file.type);\n    }\n  }, {\n    key: \"chooseDisabled\",\n    value: function chooseDisabled() {\n      return this.props.disabled || this.props.fileLimit && this.props.fileLimit <= this.state.files.length + this.uploadedFileCount;\n    }\n  }, {\n    key: \"uploadDisabled\",\n    value: function uploadDisabled() {\n      return this.props.disabled || !this.hasFiles();\n    }\n  }, {\n    key: \"cancelDisabled\",\n    value: function cancelDisabled() {\n      return this.props.disabled || !this.hasFiles();\n    }\n  }, {\n    key: \"chooseButtonLabel\",\n    value: function chooseButtonLabel() {\n      return this.props.chooseLabel || (0, _Locale.localeOption)('choose');\n    }\n  }, {\n    key: \"uploadButtonLabel\",\n    value: function uploadButtonLabel() {\n      return this.props.uploadLabel || (0, _Locale.localeOption)('upload');\n    }\n  }, {\n    key: \"cancelButtonLabel\",\n    value: function cancelButtonLabel() {\n      return this.props.cancelLabel || (0, _Locale.localeOption)('cancel');\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(event, index) {\n      this.clearInputElement();\n\n      var currentFiles = _toConsumableArray(this.state.files);\n\n      var removedFile = this.state.files[index];\n      currentFiles.splice(index, 1);\n      this.setState({\n        files: currentFiles\n      });\n\n      if (this.props.onRemove) {\n        this.props.onRemove({\n          originalEvent: event,\n          file: removedFile\n        });\n      }\n    }\n  }, {\n    key: \"clearInputElement\",\n    value: function clearInputElement() {\n      this.fileInput.value = '';\n    }\n  }, {\n    key: \"clearIEInput\",\n    value: function clearIEInput() {\n      if (this.fileInput) {\n        this.duplicateIEEvent = true; //IE11 fix to prevent onFileChange trigger again\n\n        this.fileInput.value = '';\n      }\n    }\n  }, {\n    key: \"formatSize\",\n    value: function formatSize(bytes) {\n      if (bytes === 0) {\n        return '0 B';\n      }\n\n      var k = 1000,\n          dm = 3,\n          sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n          i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n    }\n  }, {\n    key: \"onFileSelect\",\n    value: function onFileSelect(event) {\n      var _this2 = this;\n\n      if (event.type !== 'drop' && this.isIE11() && this.duplicateIEEvent) {\n        this.duplicateIEEvent = false;\n        return;\n      }\n\n      this.setState({\n        msgs: []\n      });\n      this.files = this.state.files || [];\n      var files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n\n      for (var i = 0; i < files.length; i++) {\n        var file = files[i];\n\n        if (!this.isFileSelected(file)) {\n          if (this.validate(file)) {\n            if (this.isImage(file)) {\n              file.objectURL = window.URL.createObjectURL(file);\n            }\n\n            this.files.push(file);\n          }\n        }\n      }\n\n      this.setState({\n        files: this.files\n      }, function () {\n        if (_this2.hasFiles() && _this2.props.auto) {\n          _this2.upload();\n        }\n      });\n\n      if (this.props.onSelect) {\n        this.props.onSelect({\n          originalEvent: event,\n          files: files\n        });\n      }\n\n      if (event.type !== 'drop' && this.isIE11()) {\n        this.clearIEInput();\n      } else {\n        this.clearInputElement();\n      }\n\n      if (this.props.mode === 'basic' && this.files.length > 0) {\n        this.fileInput.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"isFileSelected\",\n    value: function isFileSelected(file) {\n      var _iterator = _createForOfIteratorHelper(this.state.files),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var sFile = _step.value;\n          if (sFile.name + sFile.type + sFile.size === file.name + file.type + file.size) return true;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"isIE11\",\n    value: function isIE11() {\n      return !!window['MSInputMethodContext'] && !!document['documentMode'];\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(file) {\n      if (this.props.maxFileSize && file.size > this.props.maxFileSize) {\n        var message = {\n          severity: 'error',\n          summary: this.props.invalidFileSizeMessageSummary.replace('{0}', file.name),\n          detail: this.props.invalidFileSizeMessageDetail.replace('{0}', this.formatSize(this.props.maxFileSize))\n        };\n\n        if (this.props.mode === 'advanced') {\n          this.messagesUI.show(message);\n        }\n\n        if (this.props.onValidationFail) {\n          this.props.onValidationFail(file);\n        }\n\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"upload\",\n    value: function upload() {\n      var _this3 = this;\n\n      if (this.props.customUpload) {\n        if (this.props.fileLimit) {\n          this.uploadedFileCount += this.state.files.length;\n        }\n\n        if (this.props.uploadHandler) {\n          this.props.uploadHandler({\n            files: this.state.files\n          });\n        }\n      } else {\n        this.setState({\n          msgs: []\n        });\n        var xhr = new XMLHttpRequest();\n        var formData = new FormData();\n\n        if (this.props.onBeforeUpload) {\n          this.props.onBeforeUpload({\n            'xhr': xhr,\n            'formData': formData\n          });\n        }\n\n        var _iterator2 = _createForOfIteratorHelper(this.state.files),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var file = _step2.value;\n            formData.append(this.props.name, file, file.name);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        xhr.upload.addEventListener('progress', function (event) {\n          if (event.lengthComputable) {\n            _this3.setState({\n              progress: Math.round(event.loaded * 100 / event.total)\n            });\n          }\n\n          if (_this3.props.onProgress) {\n            _this3.props.onProgress({\n              originalEvent: event,\n              progress: _this3.progress\n            });\n          }\n\n          ;\n        });\n\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            _this3.setState({\n              progress: 0\n            });\n\n            if (xhr.status >= 200 && xhr.status < 300) {\n              if (_this3.props.fileLimit) {\n                _this3.uploadedFileCount += _this3.state.files.length;\n              }\n\n              if (_this3.props.onUpload) {\n                _this3.props.onUpload({\n                  xhr: xhr,\n                  files: _this3.state.files\n                });\n              }\n            } else {\n              if (_this3.props.onError) {\n                _this3.props.onError({\n                  xhr: xhr,\n                  files: _this3.state.files\n                });\n              }\n            }\n\n            _this3.clear();\n          }\n        };\n\n        xhr.open('POST', this.props.url, true);\n\n        if (this.props.onBeforeSend) {\n          this.props.onBeforeSend({\n            'xhr': xhr,\n            'formData': formData\n          });\n        }\n\n        xhr.withCredentials = this.props.withCredentials;\n        xhr.send(formData);\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.setState({\n        files: []\n      });\n\n      if (this.props.onClear) {\n        this.props.onClear();\n      }\n\n      this.clearInputElement();\n    }\n  }, {\n    key: \"choose\",\n    value: function choose() {\n      this.fileInput.click();\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      this.setState({\n        focused: true\n      });\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      this.setState({\n        focused: false\n      });\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(event) {\n      if (event.which === 13) {\n        // enter\n        this.choose();\n      }\n    }\n  }, {\n    key: \"onDragEnter\",\n    value: function onDragEnter(event) {\n      if (!this.props.disabled) {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"onDragOver\",\n    value: function onDragOver(event) {\n      if (!this.props.disabled) {\n        _DomHandler.default.addClass(this.content, 'p-fileupload-highlight');\n\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"onDragLeave\",\n    value: function onDragLeave(event) {\n      if (!this.props.disabled) {\n        _DomHandler.default.removeClass(this.content, 'p-fileupload-highlight');\n      }\n    }\n  }, {\n    key: \"onDrop\",\n    value: function onDrop(event) {\n      if (!this.props.disabled) {\n        _DomHandler.default.removeClass(this.content, 'p-fileupload-highlight');\n\n        event.stopPropagation();\n        event.preventDefault();\n        var files = event.dataTransfer ? event.dataTransfer.files : event.target.files;\n        var allowDrop = this.props.multiple || files && files.length === 1;\n\n        if (allowDrop) {\n          this.onFileSelect(event);\n        }\n      }\n    }\n  }, {\n    key: \"onSimpleUploaderClick\",\n    value: function onSimpleUploaderClick() {\n      if (this.hasFiles()) {\n        this.upload();\n      } else {\n        this.fileInput.click();\n      }\n    }\n  }, {\n    key: \"renderChooseButton\",\n    value: function renderChooseButton() {\n      var _this4 = this;\n\n      var className = (0, _ClassNames.classNames)('p-button p-fileupload-choose p-component', {\n        'p-disabled': this.props.disabled,\n        'p-focus': this.state.focused\n      });\n      return /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: className,\n        onClick: this.choose,\n        onKeyDown: this.onKeyDown,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        tabIndex: 0\n      }, /*#__PURE__*/_react.default.createElement(\"input\", {\n        ref: function ref(el) {\n          return _this4.fileInput = el;\n        },\n        type: \"file\",\n        onChange: this.onFileSelect,\n        multiple: this.props.multiple,\n        accept: this.props.accept,\n        disabled: this.chooseDisabled()\n      }), /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: \"p-button-icon p-button-icon-left p-clickable pi pi-fw pi-plus\"\n      }), /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: \"p-button-label p-clickable\"\n      }, this.chooseButtonLabel()), /*#__PURE__*/_react.default.createElement(_Ripple.Ripple, null));\n    }\n  }, {\n    key: \"renderFiles\",\n    value: function renderFiles() {\n      var _this5 = this;\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"p-fileupload-files\"\n      }, this.state.files.map(function (file, index) {\n        var preview = _this5.isImage(file) ? /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(\"img\", {\n          alt: file.name,\n          role: \"presentation\",\n          src: file.objectURL,\n          width: _this5.props.previewWidth\n        })) : null;\n\n        var fileName = /*#__PURE__*/_react.default.createElement(\"div\", null, file.name);\n\n        var size = /*#__PURE__*/_react.default.createElement(\"div\", null, _this5.formatSize(file.size));\n\n        var removeButton = /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_Button.Button, {\n          type: \"button\",\n          icon: \"pi pi-times\",\n          onClick: function onClick(e) {\n            return _this5.remove(e, index);\n          }\n        }));\n\n        return /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"p-fileupload-row\",\n          key: file.name + file.type + file.size\n        }, preview, fileName, size, removeButton);\n      }));\n    }\n  }, {\n    key: \"renderEmptyContent\",\n    value: function renderEmptyContent() {\n      if (this.props.emptyTemplate && !this.hasFiles()) {\n        return _ObjectUtils.default.getJSXElement(this.props.emptyTemplate, this.props);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderAdvanced\",\n    value: function renderAdvanced() {\n      var _this6 = this;\n\n      var className = (0, _ClassNames.classNames)('p-fileupload p-fileupload-advanced p-component', this.props.className);\n      var uploadButton, cancelButton, filesList, progressBar;\n      var chooseButton = this.renderChooseButton();\n      var emptyContent = this.renderEmptyContent();\n\n      if (!this.props.auto) {\n        uploadButton = /*#__PURE__*/_react.default.createElement(_Button.Button, {\n          type: \"button\",\n          label: this.uploadButtonLabel(),\n          icon: \"pi pi-upload\",\n          onClick: this.upload,\n          disabled: this.uploadDisabled()\n        });\n        cancelButton = /*#__PURE__*/_react.default.createElement(_Button.Button, {\n          type: \"button\",\n          label: this.cancelButtonLabel(),\n          icon: \"pi pi-times\",\n          onClick: this.clear,\n          disabled: this.cancelDisabled()\n        });\n      }\n\n      if (this.hasFiles()) {\n        filesList = this.renderFiles();\n        progressBar = /*#__PURE__*/_react.default.createElement(_ProgressBar.ProgressBar, {\n          value: this.state.progress,\n          showValue: false\n        });\n      }\n\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        id: this.props.id,\n        className: className,\n        style: this.props.style\n      }, /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"p-fileupload-buttonbar\"\n      }, chooseButton, uploadButton, cancelButton), /*#__PURE__*/_react.default.createElement(\"div\", {\n        ref: function ref(el) {\n          _this6.content = el;\n        },\n        className: \"p-fileupload-content\",\n        onDragEnter: this.onDragEnter,\n        onDragOver: this.onDragOver,\n        onDragLeave: this.onDragLeave,\n        onDrop: this.onDrop\n      }, progressBar, /*#__PURE__*/_react.default.createElement(_Messages.Messages, {\n        ref: function ref(el) {\n          return _this6.messagesUI = el;\n        }\n      }), filesList, emptyContent));\n    }\n  }, {\n    key: \"renderBasic\",\n    value: function renderBasic() {\n      var _this7 = this;\n\n      var className = (0, _ClassNames.classNames)('p-fileupload p-fileupload-basic p-component', this.props.className);\n      var buttonClassName = (0, _ClassNames.classNames)('p-button p-component p-fileupload-choose', {\n        'p-fileupload-choose-selected': this.hasFiles(),\n        'p-disabled': this.props.disabled,\n        'p-focus': this.state.focused\n      });\n      var iconClassName = (0, _ClassNames.classNames)('p-button-icon p-button-icon-left pi', {\n        'pi-plus': !this.hasFiles() || this.props.auto,\n        'pi-upload': this.hasFiles() && !this.props.auto\n      });\n      var chooseLabel = this.chooseButtonLabel();\n      var label = this.props.auto ? chooseLabel : this.hasFiles() ? this.state.files[0].name : chooseLabel;\n      return /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: className\n      }, /*#__PURE__*/_react.default.createElement(_Messages.Messages, {\n        ref: function ref(el) {\n          return _this7.messagesUI = el;\n        }\n      }), /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: buttonClassName,\n        onMouseUp: this.onSimpleUploaderClick,\n        onKeyDown: this.onKeyDown,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        tabIndex: 0\n      }, /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: iconClassName\n      }), /*#__PURE__*/_react.default.createElement(\"span\", {\n        className: \"p-button-label p-clickable\"\n      }, label), !this.hasFiles() && /*#__PURE__*/_react.default.createElement(\"input\", {\n        ref: function ref(el) {\n          return _this7.fileInput = el;\n        },\n        type: \"file\",\n        accept: this.props.accept,\n        disabled: this.props.disabled,\n        onChange: this.onFileSelect\n      }), /*#__PURE__*/_react.default.createElement(_Ripple.Ripple, null)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.mode === 'advanced') return this.renderAdvanced();else if (this.props.mode === 'basic') return this.renderBasic();\n    }\n  }]);\n\n  return FileUpload;\n}(_react.Component);\n\nexports.FileUpload = FileUpload;\n\n_defineProperty(FileUpload, \"defaultProps\", {\n  id: null,\n  name: null,\n  url: null,\n  mode: 'advanced',\n  multiple: false,\n  accept: null,\n  disabled: false,\n  auto: false,\n  maxFileSize: null,\n  invalidFileSizeMessageSummary: '{0}: Invalid file size, ',\n  invalidFileSizeMessageDetail: 'maximum upload size is {0}.',\n  style: null,\n  className: null,\n  widthCredentials: false,\n  previewWidth: 50,\n  chooseLabel: null,\n  uploadLabel: null,\n  cancelLabel: null,\n  customUpload: false,\n  emptyTemplate: null,\n  onBeforeUpload: null,\n  onBeforeSend: null,\n  onUpload: null,\n  onError: null,\n  onClear: null,\n  onSelect: null,\n  onProgress: null,\n  onValidationFail: null,\n  uploadHandler: null,\n  onRemove: null\n});\n\n_defineProperty(FileUpload, \"propTypes\", {\n  id: _propTypes.default.string,\n  name: _propTypes.default.string,\n  url: _propTypes.default.string,\n  mode: _propTypes.default.string,\n  multiple: _propTypes.default.bool,\n  accept: _propTypes.default.string,\n  disabled: _propTypes.default.bool,\n  auto: _propTypes.default.bool,\n  maxFileSize: _propTypes.default.number,\n  invalidFileSizeMessageSummary: _propTypes.default.string,\n  invalidFileSizeMessageDetail: _propTypes.default.string,\n  style: _propTypes.default.object,\n  className: _propTypes.default.string,\n  widthCredentials: _propTypes.default.bool,\n  previewWidth: _propTypes.default.number,\n  chooseLabel: _propTypes.default.string,\n  uploadLabel: _propTypes.default.string,\n  cancelLabel: _propTypes.default.string,\n  customUpload: _propTypes.default.bool,\n  emptyTemplate: _propTypes.default.any,\n  onBeforeUpload: _propTypes.default.func,\n  onBeforeSend: _propTypes.default.func,\n  onUpload: _propTypes.default.func,\n  onError: _propTypes.default.func,\n  onClear: _propTypes.default.func,\n  onSelect: _propTypes.default.func,\n  onProgress: _propTypes.default.func,\n  onValidationFail: _propTypes.default.func,\n  uploadHandler: _propTypes.default.func,\n  onRemove: _propTypes.default.func\n});"]},"metadata":{},"sourceType":"script"}